apiVersion: monitoring.appscode.com/v1alpha1
kind: Runbook
metadata:
  namespace: monitoring
  name: kubedb-mongodb-phase-critical
spec:
  diagnosticChecks:
    - type: InspectConditions
      args:
        description: Describe the pods that are not Ready and check conditions.
        target: DatabasePod
    - type: InspectEvents
      args:
        description: Describe the pods that are not Ready and check their events.
        target: DatabasePod
  remedyActions:
    - type: RestartPod
      args:
        description: Try restarting the pods