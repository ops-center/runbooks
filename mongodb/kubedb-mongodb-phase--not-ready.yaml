apiVersion: monitoring.appscode.com/v1alpha1
kind: Runbook
metadata:
  namespace: monitoring
  name: kubedb-mongodb-phase-not-ready
spec:
  diagnosticChecks:
    - type: CheckConditions
      args:
        description: Check the reasons for the Conditions that are false in the MongoDB CR.
        target: DatabaseInstance
    - type: CheckLogs
      args:
        description: Check mongodb pod logs
        target: DatabasePod
    - type: CheckLogs
      args:
        description: Check KubeDB provisioner logs
        target: KubeDBProvisionerPod